<Window x:Class="ExcelAutomation.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="14"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        FontFamily="{DynamicResource MaterialDesignFont}"
        Title="Login" Height="450" Width="350"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="NoResize"
        AllowsTransparency="True"
        Background="Transparent">

    <Border CornerRadius="10" 
            Background="White" 
            Margin="10"
            Effect="{DynamicResource MaterialDesignShadowDepth2}">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0" MouseDown="Border_MouseDown" Background="Transparent">
                <Button Style="{StaticResource MaterialDesignIconForegroundButton}"
                        HorizontalAlignment="Right"
                        Margin="5"
                        Click="ExitButton_Click"
                        ToolTip="終了">
                    <materialDesign:PackIcon Kind="Close" />
                </Button>
            </Grid>

            <ScrollViewer Grid.Row="1" 
                          VerticalScrollBarVisibility="Auto" 
                          HorizontalScrollBarVisibility="Disabled">

                <StackPanel Margin="40 0 40 40" VerticalAlignment="Center">

                    <materialDesign:PackIcon Kind="AccountCircle" 
                                             Width="60" Height="60" 
                                             HorizontalAlignment="Center"
                                             Foreground="{DynamicResource PrimaryHueMidBrush}"
                                             Margin="0 0 0 20"/>

                    <TextBlock Text="Welcome Back"
                               Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                               HorizontalAlignment="Center"
                               FontWeight="Bold"
                               Margin="0 0 0 30"
                               Foreground="{DynamicResource PrimaryHueMidBrush}"/>

                    <TextBox x:Name="UsernameBox"
                             Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                             materialDesign:HintAssist.Hint="ユーザーID"
                             Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                             Margin="0 0 0 20"
                             FontSize="16"/>

                    <PasswordBox x:Name="PasswordBox"
                                 PasswordChanged="PasswordBox_PasswordChanged"
                                 materialDesign:HintAssist.Hint="パスワード"
                                 Style="{StaticResource MaterialDesignFloatingHintPasswordBox}"
                                 Margin="0 0 0 30"
                                 FontSize="16"/>

                    <TextBlock Text="{Binding ErrorMessage}"
                               Foreground="Red"
                               HorizontalAlignment="Center"
                               TextWrapping="Wrap"
                               TextAlignment="Center"
                               Margin="0 0 0 10">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Setter Property="Visibility" Value="Visible" />
                                <Style.Triggers>
                                    <Trigger Property="Text" Value="">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>

                    <Button Content="ログイン"
                            Command="{Binding LoginCommand}"
                            Height="45"
                            IsDefault="True"
                            Style="{StaticResource MaterialDesignRaisedButton}"
                            materialDesign:ButtonAssist.CornerRadius="5"
                            FontSize="16"/>

                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Border>
</Window>